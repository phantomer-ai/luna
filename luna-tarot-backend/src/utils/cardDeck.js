// 메이저 아르카나 카드 데이터
export const MAJOR_ARCANA = [
  {
    name: "The Fool",
    number: 0,
    meaning_upright: "새로운 시작, 순수함, 자유로운 정신, 모험, 무지함의 아름다움",
    meaning_reversed: "무모함, 경솔함, 위험한 선택, 계획 부족",
    keywords: ["새로운 시작", "순수함", "모험", "자유", "무지함"]
  },
  {
    name: "The Magician",
    number: 1,
    meaning_upright: "의지력, 창조성, 능력, 집중, 새로운 기회",
    meaning_reversed: "조작, 남용, 의지력 부족, 기회 놓침",
    keywords: ["의지력", "창조성", "능력", "집중", "기회"]
  },
  {
    name: "The High Priestess",
    number: 2,
    meaning_upright: "직관, 신비, 내면의 지혜, 비밀, 영성",
    meaning_reversed: "직관 무시, 비밀 폭로, 표면적 사고",
    keywords: ["직관", "신비", "내면의 지혜", "비밀", "영성"]
  },
  {
    name: "The Empress",
    number: 3,
    meaning_upright: "풍요, 창조성, 모성, 자연, 성장",
    meaning_reversed: "창조성 부족, 과보호, 자연과의 단절",
    keywords: ["풍요", "창조성", "모성", "자연", "성장"]
  },
  {
    name: "The Emperor",
    number: 4,
    meaning_upright: "권위, 안정, 구조, 리더십, 아버지",
    meaning_reversed: "독재, 경직성, 권위 남용, 약점",
    keywords: ["권위", "안정", "구조", "리더십", "아버지"]
  },
  {
    name: "The Hierophant",
    number: 5,
    meaning_upright: "전통, 교육, 종교, 가르침, 사회적 규범",
    meaning_reversed: "반항, 전통 거부, 개인적 신념",
    keywords: ["전통", "교육", "종교", "가르침", "규범"]
  },
  {
    name: "The Lovers",
    number: 6,
    meaning_upright: "사랑, 선택, 조화, 관계, 결합",
    meaning_reversed: "불화, 잘못된 선택, 관계 문제",
    keywords: ["사랑", "선택", "조화", "관계", "결합"]
  },
  {
    name: "The Chariot",
    number: 7,
    meaning_upright: "의지력, 승리, 통제, 진행, 결단",
    meaning_reversed: "의지력 부족, 방향 상실, 내적 갈등",
    keywords: ["의지력", "승리", "통제", "진행", "결단"]
  },
  {
    name: "Strength",
    number: 8,
    meaning_upright: "내면의 힘, 용기, 인내, 부드러운 힘, 자신감",
    meaning_reversed: "자신감 부족, 약점, 힘의 남용",
    keywords: ["내면의 힘", "용기", "인내", "부드러운 힘", "자신감"]
  },
  {
    name: "The Hermit",
    number: 9,
    meaning_upright: "고독, 내면의 여정, 지혜, 성찰, 가이드",
    meaning_reversed: "고립, 외로움, 지혜 거부",
    keywords: ["고독", "내면의 여정", "지혜", "성찰", "가이드"]
  },
  {
    name: "Wheel of Fortune",
    number: 10,
    meaning_upright: "운명, 변화, 기회, 순환, 운",
    meaning_reversed: "운명 거부, 변화 저항, 불운",
    keywords: ["운명", "변화", "기회", "순환", "운"]
  },
  {
    name: "Justice",
    number: 11,
    meaning_upright: "균형, 공정함, 진실, 법, 책임",
    meaning_reversed: "불공정, 편향, 책임 회피",
    keywords: ["균형", "공정함", "진실", "법", "책임"]
  },
  {
    name: "The Hanged Man",
    number: 12,
    meaning_upright: "희생, 새로운 관점, 인내, 깨달음, 정지",
    meaning_reversed: "희생 거부, 고정관념, 인내 부족",
    keywords: ["희생", "새로운 관점", "인내", "깨달음", "정지"]
  },
  {
    name: "Death",
    number: 13,
    meaning_upright: "변화, 끝과 시작, 변형, 해방, 새로운 단계",
    meaning_reversed: "변화 거부, 과거에 매달림, 정체",
    keywords: ["변화", "끝과 시작", "변형", "해방", "새로운 단계"]
  },
  {
    name: "Temperance",
    number: 14,
    meaning_upright: "균형, 조화, 절제, 치유, 조합",
    meaning_reversed: "불균형, 과도함, 조화 부족",
    keywords: ["균형", "조화", "절제", "치유", "조합"]
  },
  {
    name: "The Devil",
    number: 15,
    meaning_upright: "속박, 물질주의, 욕망, 그림자, 해방",
    meaning_reversed: "해방, 욕망 극복, 속박에서 벗어남",
    keywords: ["속박", "물질주의", "욕망", "그림자", "해방"]
  },
  {
    name: "The Tower",
    number: 16,
    meaning_upright: "급격한 변화, 파괴, 깨달음, 혼돈, 해방",
    meaning_reversed: "변화 회피, 점진적 변화, 안정",
    keywords: ["급격한 변화", "파괴", "깨달음", "혼돈", "해방"]
  },
  {
    name: "The Star",
    number: 17,
    meaning_upright: "희망, 영감, 치유, 믿음, 새로운 시작",
    meaning_reversed: "절망, 희망 상실, 영감 부족",
    keywords: ["희망", "영감", "치유", "믿음", "새로운 시작"]
  },
  {
    name: "The Moon",
    number: 18,
    meaning_upright: "직관, 환상, 착각, 잠재의식, 신비",
    meaning_reversed: "착각 극복, 명확함, 진실 발견",
    keywords: ["직관", "환상", "착각", "잠재의식", "신비"]
  },
  {
    name: "The Sun",
    number: 19,
    meaning_upright: "행복, 성공, 활력, 진실, 낙관",
    meaning_reversed: "일시적 우울, 과신, 현실 회피",
    keywords: ["행복", "성공", "활력", "진실", "낙관"]
  },
  {
    name: "Judgement",
    number: 20,
    meaning_upright: "부활, 깨달음, 변화, 소명, 새로운 시작",
    meaning_reversed: "자기 의심, 기회 놓침, 변화 거부",
    keywords: ["부활", "깨달음", "변화", "소명", "새로운 시작"]
  },
  {
    name: "The World",
    number: 21,
    meaning_upright: "완성, 성취, 여행, 통합, 새로운 순환",
    meaning_reversed: "미완성, 목표 미달성, 정체",
    keywords: ["완성", "성취", "여행", "통합", "새로운 순환"]
  }
];

// 마이너 아르카나 - 완드 (불의 원소)
export const WANDS = [
  {
    name: "Ace of Wands",
    suit: "wands",
    number: 1,
    meaning_upright: "새로운 시작, 창조성, 영감, 열정, 잠재력",
    meaning_reversed: "창조성 부족, 영감 상실, 기회 놓침",
    keywords: ["새로운 시작", "창조성", "영감", "열정"]
  },
  {
    name: "Two of Wands",
    suit: "wands",
    number: 2,
    meaning_upright: "계획, 선택, 발견, 확장, 미래 계획",
    meaning_reversed: "계획 부족, 선택의 어려움, 좁은 시야",
    keywords: ["계획", "선택", "발견", "확장"]
  },
  {
    name: "Three of Wands",
    suit: "wands",
    number: 3,
    meaning_upright: "확장, 모험, 새로운 기회, 미래 지향",
    meaning_reversed: "확장 지연, 좌절, 기회 놓침",
    keywords: ["확장", "모험", "새로운 기회", "미래 지향"]
  },
  {
    name: "Four of Wands",
    suit: "wands",
    number: 4,
    meaning_upright: "축하, 조화, 안정, 가정, 성공",
    meaning_reversed: "불화, 안정 상실, 가정 문제",
    keywords: ["축하", "조화", "안정", "가정", "성공"]
  },
  {
    name: "Five of Wands",
    suit: "wands",
    number: 5,
    meaning_upright: "경쟁, 갈등, 도전, 에너지, 성장",
    meaning_reversed: "갈등 해결, 협력, 평화",
    keywords: ["경쟁", "갈등", "도전", "에너지", "성장"]
  }
];

// 마이너 아르카나 - 컵 (물의 원소)
export const CUPS = [
  {
    name: "Ace of Cups",
    suit: "cups",
    number: 1,
    meaning_upright: "사랑, 감정, 직관, 영성, 새로운 감정",
    meaning_reversed: "감정적 공백, 사랑 상실, 직관 무시",
    keywords: ["사랑", "감정", "직관", "영성"]
  },
  {
    name: "Two of Cups",
    suit: "cups",
    number: 2,
    meaning_upright: "연합, 사랑, 조화, 파트너십, 선택",
    meaning_reversed: "불화, 관계 문제, 선택의 어려움",
    keywords: ["연합", "사랑", "조화", "파트너십"]
  },
  {
    name: "Three of Cups",
    suit: "cups",
    number: 3,
    meaning_upright: "축하, 우정, 기쁨, 공동체, 성공",
    meaning_reversed: "고립, 우정 상실, 과도한 축하",
    keywords: ["축하", "우정", "기쁨", "공동체"]
  },
  {
    name: "Four of Cups",
    suit: "cups",
    number: 4,
    meaning_upright: "무관심, 우울, 기회 놓침, 내면의 여정",
    meaning_reversed: "새로운 기회, 각성, 관심 회복",
    keywords: ["무관심", "우울", "기회 놓침", "내면의 여정"]
  },
  {
    name: "Five of Cups",
    suit: "cups",
    number: 5,
    meaning_upright: "실망, 슬픔, 손실, 후회, 비통",
    meaning_reversed: "희망, 치유, 새로운 기회, 용서",
    keywords: ["실망", "슬픔", "손실", "후회", "비통"]
  }
];

// 마이너 아르카나 - 소드 (공기의 원소)
export const SWORDS = [
  {
    name: "Ace of Swords",
    suit: "swords",
    number: 1,
    meaning_upright: "진실, 명확함, 지혜, 승리, 새로운 아이디어",
    meaning_reversed: "혼란, 진실 왜곡, 지혜 상실",
    keywords: ["진실", "명확함", "지혜", "승리"]
  },
  {
    name: "Two of Swords",
    suit: "swords",
    number: 2,
    meaning_upright: "균형, 선택, 결정, 평화, 타협",
    meaning_reversed: "불균형, 결정 지연, 갈등",
    keywords: ["균형", "선택", "결정", "평화"]
  },
  {
    name: "Three of Swords",
    suit: "swords",
    number: 3,
    meaning_upright: "상처, 슬픔, 배신, 고통, 분리",
    meaning_reversed: "치유, 용서, 화해, 회복",
    keywords: ["상처", "슬픔", "배신", "고통", "분리"]
  },
  {
    name: "Four of Swords",
    suit: "swords",
    number: 4,
    meaning_upright: "휴식, 회복, 명상, 평화, 재충전",
    meaning_reversed: "휴식 부족, 스트레스, 과로",
    keywords: ["휴식", "회복", "명상", "평화", "재충전"]
  },
  {
    name: "Five of Swords",
    suit: "swords",
    number: 5,
    meaning_upright: "패배, 갈등, 손실, 배신, 자존감 상실",
    meaning_reversed: "화해, 용서, 새로운 시작, 자존감 회복",
    keywords: ["패배", "갈등", "손실", "배신", "자존감 상실"]
  }
];

// 마이너 아르카나 - 펜타클 (흙의 원소)
export const PENTACLES = [
  {
    name: "Ace of Pentacles",
    suit: "pentacles",
    number: 1,
    meaning_upright: "새로운 기회, 물질적 성공, 번영, 잠재력",
    meaning_reversed: "기회 놓침, 물질적 손실, 잠재력 미실현",
    keywords: ["새로운 기회", "물질적 성공", "번영", "잠재력"]
  },
  {
    name: "Two of Pentacles",
    suit: "pentacles",
    number: 2,
    meaning_upright: "균형, 적응, 변화, 우선순위, 유연성",
    meaning_reversed: "불균형, 변화 저항, 우선순위 혼란",
    keywords: ["균형", "적응", "변화", "우선순위", "유연성"]
  },
  {
    name: "Three of Pentacles",
    suit: "pentacles",
    number: 3,
    meaning_upright: "협력, 팀워크, 숙련, 성장, 건설",
    meaning_reversed: "불화, 팀워크 부족, 숙련도 부족",
    keywords: ["협력", "팀워크", "숙련", "성장", "건설"]
  },
  {
    name: "Four of Pentacles",
    suit: "pentacles",
    number: 4,
    meaning_upright: "보존, 안정, 소유, 보수주의, 안전",
    meaning_reversed: "과도한 보존, 변화 필요, 자유 추구",
    keywords: ["보존", "안정", "소유", "보수주의", "안전"]
  },
  {
    name: "Five of Pentacles",
    suit: "pentacles",
    number: 5,
    meaning_upright: "재정적 어려움, 고립, 빈곤, 건강 문제",
    meaning_reversed: "재정적 회복, 지원, 치유, 새로운 기회",
    keywords: ["재정적 어려움", "고립", "빈곤", "건강 문제"]
  }
];

// 전체 카드 덱
export const FULL_DECK = [
  ...MAJOR_ARCANA,
  ...WANDS,
  ...CUPS,
  ...SWORDS,
  ...PENTACLES
];

// 카드 셔플 함수
export function shuffleArray(array) {
  const newArray = [...array];
  for (let i = newArray.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
  }
  return newArray;
}

// 카드 뽑기 함수
export function drawCards(count = 1, deck = FULL_DECK) {
  const shuffled = shuffleArray(deck);
  return shuffled.slice(0, count).map(card => ({
    ...card,
    reversed: Math.random() < 0.3 // 30% 확률로 역방향
  }));
}

// 스프레드 타입별 카드 개수
export const SPREAD_TYPES = {
  one_card: {
    name: '원 카드',
    description: '오늘의 메시지나 간단한 질문',
    cardCount: 1,
    positions: ['메시지']
  },
  three_card: {
    name: '쓰리 카드',
    description: '과거-현재-미래 또는 상황 분석',
    cardCount: 3,
    positions: ['과거', '현재', '미래']
  },
  love: {
    name: '연애 스프레드',
    description: '나-상대방-관계에 대한 이해',
    cardCount: 3,
    positions: ['나', '상대방', '관계']
  }
};

// 카드 해석 템플릿
export function createCardInterpretation(cards, spreadType) {
  const spread = SPREAD_TYPES[spreadType];
  let interpretation = '';
  
  cards.forEach((card, index) => {
    const position = spread.positions[index];
    const meaning = card.reversed ? card.meaning_reversed : card.meaning_upright;
    const direction = card.reversed ? ' (역방향)' : '';
    
    interpretation += `${position}: ${card.name}${direction}\n`;
    interpretation += `의미: ${meaning}\n\n`;
  });
  
  return interpretation;
}
